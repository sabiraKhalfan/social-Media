{"ast":null,"code":"import _slicedToArray from \"D:\\\\socialmedia\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\socialmedia\\\\client\\\\src\\\\PostShare\\\\PostShare.jsx\";\nimport React from 'react';\nimport Profile from './../img/profileImg.jpg';\nimport './PostShare.css';\nimport { UilScenery } from '@iconscout/react-unicons';\nimport { UilPlayCircle } from '@iconscout/react-unicons';\nimport { UilLocationPoint } from '@iconscout/react-unicons';\nimport { UilSchedule } from '@iconscout/react-unicons';\nimport { UilTimes } from '@iconscout/react-unicons';\nimport { useState, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nvar PostShare = function PostShare() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    Image = _useState2[0],\n    setImage = _useState2[1];\n  var imageRef = useRef();\n  var desc = useRef();\n  var _useSelector = useSelector(function (state) {\n      return state.authReducer.authData;\n    }),\n    user = _useSelector.user;\n  var onImageChange = function onImageChange(event) {\n    if (event.target.files && event.target.files[0]) {\n      var img = event.target.files[0];\n      setImage(img);\n    }\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var newPost = {\n      userId: user._id,\n      desc: desc.current.value\n    };\n    if (Image) {\n      var data = new FormData();\n      var fileName = Date.now() + Image.name;\n      data.append(\"name\", fileName);\n      newPost.Image = fileName;\n      console.log(newPost);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PostShare\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Profile,\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: desc,\n    required: true,\n    type: \"text\",\n    placeholder: \"What's happening\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PostOptions\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Options\",\n    style: {\n      color: \"var(--photo)\"\n    },\n    onClick: function onClick() {\n      return imageRef.current.click();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UilScenery, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), \"Photo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Options\",\n    style: {\n      color: \"var(--video)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UilPlayCircle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }), \"Video\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Options\",\n    style: {\n      color: \"var(--location)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UilLocationPoint, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }), \"Location\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Options\",\n    style: {\n      color: \"var(schedule)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UilSchedule, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), \"Schedule\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button ps-button\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 12\n    }\n  }, \"Share\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"myImage\",\n    ref: imageRef,\n    onChange: onImageChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }))), Image && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PreviewImage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(UilTimes, {\n    onClick: function onClick() {\n      return setImage(null);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: URL.createObjectURL(Image),\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }))));\n};\nexport default PostShare;","map":{"version":3,"names":["React","Profile","UilScenery","UilPlayCircle","UilLocationPoint","UilSchedule","UilTimes","useState","useRef","useSelector","PostShare","Image","setImage","imageRef","desc","state","authReducer","authData","user","onImageChange","event","target","files","img","handleSubmit","e","preventDefault","newPost","userId","_id","current","value","data","FormData","fileName","Date","now","name","append","console","log","color","click","display","URL","createObjectURL"],"sources":["D:/socialmedia/client/src/PostShare/PostShare.jsx"],"sourcesContent":["import React from 'react'\r\nimport Profile from './../img/profileImg.jpg'\r\nimport './PostShare.css'\r\nimport {UilScenery} from '@iconscout/react-unicons'\r\nimport {UilPlayCircle} from '@iconscout/react-unicons'\r\nimport {UilLocationPoint} from '@iconscout/react-unicons'\r\nimport {UilSchedule} from '@iconscout/react-unicons'\r\nimport {UilTimes} from '@iconscout/react-unicons'\r\nimport {useState, useRef } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\nconst PostShare = () => {\r\n    const [Image, setImage]= useState(null)\r\n    const imageRef =useRef();\r\n    const desc = useRef();\r\n    const {user} = useSelector((state)=>state.authReducer.authData)\r\n\r\n    const onImageChange=(event)=>{\r\n    if(event.target.files && event.target.files[0]){\r\n       let img= event.target.files[0] \r\n       setImage(img)\r\n       \r\n    }\r\n    };\r\n    const handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const newPost ={\r\n            userId :user._id,\r\n            desc:desc.current.value\r\n\r\n    }\r\n    if(Image){\r\n        const data =new FormData();\r\n        const fileName =Date.now()+ Image.name;\r\n        data.append(\"name\",fileName);\r\n        newPost.Image =fileName;\r\n        console.log(newPost)\r\n    }\r\n}\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"PostShare\">\r\n        <img src={Profile} alt=''/>\r\n        <div>\r\n            <input \r\n            ref ={desc}\r\n            required\r\n            type= 'text' placeholder=\"What's happening\"/>\r\n        <div className=\"PostOptions\">\r\n            <div className=\"Options\" style={{color:\"var(--photo)\"}}\r\n                onClick={()=>imageRef.current.click()}>\r\n                <UilScenery/>\r\n                \r\n                Photo\r\n            </div>\r\n            <div className=\"Options\" style={{color:\"var(--video)\"}}>\r\n                <UilPlayCircle/>\r\n                Video\r\n            </div>\r\n            <div className=\"Options\" style={{color:\"var(--location)\"}}>\r\n                <UilLocationPoint/>\r\n                Location\r\n            </div>\r\n            <div className=\"Options\" style={{color:\"var(schedule)\"}}>\r\n                <UilSchedule/>\r\n                Schedule\r\n            </div>\r\n           <button className='button ps-button'  onClick={handleSubmit}>\r\n          \r\n            Share</button>\r\n           <div style={{display:\"none\"}}>\r\n        <input type=\"file\"\r\n        name=\"myImage\"\r\n        ref={imageRef} onChange={onImageChange}/>\r\n        </div>\r\n        </div>\r\n   {Image&& (\r\n    <div className=\"PreviewImage\">\r\n    <UilTimes onClick={()=>setImage(null)}/>\r\n    <img src={URL.createObjectURL(Image)} alt=\"\" />\r\n    </div>\r\n   )}\r\n        </div>\r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostShare"],"mappings":"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"},"metadata":{},"sourceType":"module"}