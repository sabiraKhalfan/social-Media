{"ast":null,"code":"import _slicedToArray from \"D:\\\\socialmedia\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\socialmedia\\\\client\\\\src\\\\PostShare\\\\PostShare.jsx\";\nimport React from 'react';\nimport Profile from './../img/profileImg.jpg';\nimport './PostShare.css';\nimport { UilScenery } from '@iconscout/react-unicons';\nimport { UilPlayCircle } from '@iconscout/react-unicons';\nimport { UilLocationPoint } from '@iconscout/react-unicons';\nimport { UilSchedule } from '@iconscout/react-unicons';\nimport { UilTimes } from '@iconscout/react-unicons';\nimport { useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nvar PostShare = function PostShare() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    Image = _useState2[0],\n    setImage = _useState2[1];\n  var imageRef = useRef();\n  var desc = useRef();\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return state.authReducer.authData;\n    }),\n    user = _useSelector.user;\n  var onImageChange = function onImageChange(event) {\n    if (event.target.files && event.target.files[0]) {\n      var img = event.target.files[0];\n      setImage(img);\n    }\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var newPost = {\n      userId: user._id,\n      desc: desc.current.value\n    };\n    if (Image) {\n      var _data = new FormData();\n      var fileName = Date.now() + Image.name;\n      _data.append(\"name\", fileName);\n      newPost.Image = fileName;\n      console.log(newPost);\n    }\n    try {\n      dispatch(uploadImage(data));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PostShare\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Profile,\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: desc,\n    required: true,\n    type: \"text\",\n    placeholder: \"What's happening\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PostOptions\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Options\",\n    style: {\n      color: \"var(--photo)\"\n    },\n    onClick: function onClick() {\n      return imageRef.current.click();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(UilScenery, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }), \"Photo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Options\",\n    style: {\n      color: \"var(--video)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(UilPlayCircle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }), \"Video\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Options\",\n    style: {\n      color: \"var(--location)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(UilLocationPoint, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }), \"Location\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Options\",\n    style: {\n      color: \"var(schedule)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(UilSchedule, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }), \"Schedule\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button ps-button\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"Share\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"myImage\",\n    ref: imageRef,\n    onChange: onImageChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }))), Image && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PreviewImage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(UilTimes, {\n    onClick: function onClick() {\n      return setImage(null);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: URL.createObjectURL(Image),\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }))));\n};\nexport default PostShare;","map":{"version":3,"names":["React","Profile","UilScenery","UilPlayCircle","UilLocationPoint","UilSchedule","UilTimes","useState","useRef","useDispatch","useSelector","PostShare","Image","setImage","imageRef","desc","dispatch","state","authReducer","authData","user","onImageChange","event","target","files","img","handleSubmit","e","preventDefault","newPost","userId","_id","current","value","data","FormData","fileName","Date","now","name","append","console","log","uploadImage","err","color","click","display","URL","createObjectURL"],"sources":["D:/socialmedia/client/src/PostShare/PostShare.jsx"],"sourcesContent":["import React from 'react'\r\nimport Profile from './../img/profileImg.jpg'\r\nimport './PostShare.css'\r\nimport { UilScenery } from '@iconscout/react-unicons'\r\nimport { UilPlayCircle } from '@iconscout/react-unicons'\r\nimport { UilLocationPoint } from '@iconscout/react-unicons'\r\nimport { UilSchedule } from '@iconscout/react-unicons'\r\nimport { UilTimes } from '@iconscout/react-unicons'\r\nimport { useState, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n\r\nconst PostShare = () => {\r\n    const [Image, setImage] = useState(null)\r\n    const imageRef = useRef();\r\n    const desc = useRef();\r\n    const dispatch =useDispatch();\r\n    const { user } = useSelector((state) => state.authReducer.authData)\r\n\r\n    const onImageChange = (event) => {\r\n        if (event.target.files && event.target.files[0]) {\r\n            let img = event.target.files[0]\r\n            setImage(img)\r\n\r\n        }\r\n    };\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const newPost = {\r\n            userId: user._id,\r\n            desc: desc.current.value\r\n\r\n        }\r\n        if (Image) {\r\n            const data = new FormData();\r\n            const fileName = Date.now() + Image.name;\r\n            data.append(\"name\", fileName);\r\n            newPost.Image = fileName;\r\n            console.log(newPost)\r\n\r\n\r\n        }\r\n        try {\r\n            dispatch(uploadImage(data));\r\n          } catch (err) {\r\n            console.log(err);\r\n          }\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"PostShare\">\r\n            <img src={Profile} alt='' />\r\n            <div>\r\n                <input\r\n                    ref={desc}\r\n                    required\r\n                    type='text' placeholder=\"What's happening\" />\r\n                <div className=\"PostOptions\">\r\n                    <div className=\"Options\" style={{ color: \"var(--photo)\" }}\r\n                        onClick={() => imageRef.current.click()}>\r\n                        <UilScenery />\r\n\r\n                        Photo\r\n                    </div>\r\n                    <div className=\"Options\" style={{ color: \"var(--video)\" }}>\r\n                        <UilPlayCircle />\r\n                        Video\r\n                    </div>\r\n                    <div className=\"Options\" style={{ color: \"var(--location)\" }}>\r\n                        <UilLocationPoint />\r\n                        Location\r\n                    </div>\r\n                    <div className=\"Options\" style={{ color: \"var(schedule)\" }}>\r\n                        <UilSchedule />\r\n                        Schedule\r\n                    </div>\r\n                    <button className='button ps-button' onClick={handleSubmit}>\r\n\r\n                        Share</button>\r\n                    <div style={{ display: \"none\" }}>\r\n                        <input type=\"file\"\r\n                            name=\"myImage\"\r\n                            ref={imageRef} onChange={onImageChange} />\r\n                    </div>\r\n                </div>\r\n                {Image && (\r\n                    <div className=\"PreviewImage\">\r\n                        <UilTimes onClick={() => setImage(null)} />\r\n                        <img src={URL.createObjectURL(Image)} alt=\"\" />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostShare"],"mappings":"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"},"metadata":{},"sourceType":"module"}